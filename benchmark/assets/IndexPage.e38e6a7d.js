var Le=Object.defineProperty;var Be=(e,y,b)=>y in e?Le(e,y,{enumerable:!0,configurable:!0,writable:!0,value:b}):e[y]=b;var be=(e,y,b)=>(Be(e,typeof y!="symbol"?y+"":y,b),b);import{u as $e,a as Qe,b as ze,c as qe,f as Se,d as Ue,e as Ke,g as Ze,h as He,i as Je,v as Ce,j as We,k as Ye,l as Xe,m as Ge,n as et,o as tt,p as at,q as nt,r as lt,s as Me,t as ot,w as Pe,x as _e,y as it,Q as Y,z as ue,A as ce,B as me,C as ge}from"./position-engine.b8c1b8cf.js";import{u as st,a as rt,l as z,Q as ve,r as ut,B as ct,g as dt,b as ft}from"./utils.744b542c.js";import{Q as mt,a as he,b as se}from"./QPage.0aacba23.js";import{r as B,w as Z,b as ie,K as gt,c as R,a as we,o as Ae,h as ee,L as vt,g as pe,G as Re,F as Te,E as je,T as ht,I as kt,d as yt,e as ke,f as wt,q as pt,u as xt,t as X,v as re,x as k,M as K,y as m,z as Q,N as ye,O as Fe,B as G,P as le,Q as Oe,C as bt,R as St}from"./index.c1106137.js";import{c as xe,h as Ne,Q as ae,R as de}from"./QBtn.030aa337.js";import{Q as Ve,a as Ct,b as Mt,J as Pt,C as oe}from"./jszip.min.7f5194d4.js";import{g as _t}from"./scroll.1a2f5433.js";const Ee={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},fe={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},De=Object.keys(fe);De.forEach(e=>{fe[e].regex=new RegExp(fe[e].pattern)});const Rt=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+De.join("")+"])|(.)","g"),Ie=/[.*+?^${}()|[\]\\]/g,F=String.fromCharCode(1),Tt={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function jt(e,y,b,x){let v,h,T,S,E,C;const M=B(null),c=B(f());function D(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}Z(()=>e.type+e.autogrow,j),Z(()=>e.mask,n=>{if(n!==void 0)U(c.value,!0);else{const a=V(c.value);j(),e.modelValue!==a&&y("update:modelValue",a)}}),Z(()=>e.fillMask+e.reverseFillMask,()=>{M.value===!0&&U(c.value,!0)}),Z(()=>e.unmaskedValue,()=>{M.value===!0&&U(c.value)});function f(){if(j(),M.value===!0){const n=O(V(e.modelValue));return e.fillMask!==!1?W(n):n}return e.modelValue}function $(n){if(n<v.length)return v.slice(-n);let a="",r=v;const l=r.indexOf(F);if(l>-1){for(let o=n-r.length;o>0;o--)a+=F;r=r.slice(0,l)+a+r.slice(l)}return r}function j(){if(M.value=e.mask!==void 0&&e.mask.length>0&&D(),M.value===!1){S=void 0,v="",h="";return}const n=Ee[e.mask]===void 0?e.mask:Ee[e.mask],a=typeof e.fillMask=="string"&&e.fillMask.length>0?e.fillMask.slice(0,1):"_",r=a.replace(Ie,"\\$&"),l=[],o=[],i=[];let s=e.reverseFillMask===!0,u="",g="";n.replace(Rt,(w,t,d,A,P)=>{if(A!==void 0){const N=fe[A];i.push(N),g=N.negate,s===!0&&(o.push("(?:"+g+"+)?("+N.pattern+"+)?(?:"+g+"+)?("+N.pattern+"+)?"),s=!1),o.push("(?:"+g+"+)?("+N.pattern+")?")}else if(d!==void 0)u="\\"+(d==="\\"?"":d),i.push(d),l.push("([^"+u+"]+)?"+u+"?");else{const N=t!==void 0?t:P;u=N==="\\"?"\\\\\\\\":N.replace(Ie,"\\\\$&"),i.push(N),l.push("([^"+u+"]+)?"+u+"?")}});const _=new RegExp("^"+l.join("")+"("+(u===""?".":"[^"+u+"]")+"+)?"+(u===""?"":"["+u+"]*")+"$"),L=o.length-1,p=o.map((w,t)=>t===0&&e.reverseFillMask===!0?new RegExp("^"+r+"*"+w):t===L?new RegExp("^"+w+"("+(g===""?".":g)+"+)?"+(e.reverseFillMask===!0?"$":r+"*")):new RegExp("^"+w));T=i,S=w=>{const t=_.exec(e.reverseFillMask===!0?w:w.slice(0,i.length+1));t!==null&&(w=t.slice(1).join(""));const d=[],A=p.length;for(let P=0,N=w;P<A;P++){const ne=p[P].exec(N);if(ne===null)break;N=N.slice(ne.shift().length),d.push(...ne)}return d.length>0?d.join(""):w},v=i.map(w=>typeof w=="string"?w:F).join(""),h=v.split(F).join(a)}function U(n,a,r){const l=x.value,o=l.selectionEnd,i=l.value.length-o,s=V(n);a===!0&&j();const u=O(s),g=e.fillMask!==!1?W(u):u,_=c.value!==g;l.value!==g&&(l.value=g),_===!0&&(c.value=g),document.activeElement===l&&ie(()=>{if(g===h){const p=e.reverseFillMask===!0?h.length:0;l.setSelectionRange(p,p,"forward");return}if(r==="insertFromPaste"&&e.reverseFillMask!==!0){const p=l.selectionEnd;let w=o-1;for(let t=E;t<=w&&t<p;t++)v[t]!==F&&w++;I.right(l,w);return}if(["deleteContentBackward","deleteContentForward"].indexOf(r)>-1){const p=e.reverseFillMask===!0?o===0?g.length>u.length?1:0:Math.max(0,g.length-(g===h?0:Math.min(u.length,i)+1))+1:o;l.setSelectionRange(p,p,"forward");return}if(e.reverseFillMask===!0)if(_===!0){const p=Math.max(0,g.length-(g===h?0:Math.min(u.length,i+1)));p===1&&o===1?l.setSelectionRange(p,p,"forward"):I.rightReverse(l,p)}else{const p=g.length-i;l.setSelectionRange(p,p,"backward")}else if(_===!0){const p=Math.max(0,v.indexOf(F),Math.min(u.length,o)-1);I.right(l,p)}else{const p=o-1;I.right(l,p)}});const L=e.unmaskedValue===!0?V(g):g;String(e.modelValue)!==L&&b(L,!0)}function te(n,a,r){const l=O(V(n.value));a=Math.max(0,v.indexOf(F),Math.min(l.length,a)),E=a,n.setSelectionRange(a,r,"forward")}const I={left(n,a){const r=v.slice(a-1).indexOf(F)===-1;let l=Math.max(0,a-1);for(;l>=0;l--)if(v[l]===F){a=l,r===!0&&a++;break}if(l<0&&v[a]!==void 0&&v[a]!==F)return I.right(n,0);a>=0&&n.setSelectionRange(a,a,"backward")},right(n,a){const r=n.value.length;let l=Math.min(r,a+1);for(;l<=r;l++)if(v[l]===F){a=l;break}else v[l-1]===F&&(a=l);if(l>r&&v[a-1]!==void 0&&v[a-1]!==F)return I.left(n,r);n.setSelectionRange(a,a,"forward")},leftReverse(n,a){const r=$(n.value.length);let l=Math.max(0,a-1);for(;l>=0;l--)if(r[l-1]===F){a=l;break}else if(r[l]===F&&(a=l,l===0))break;if(l<0&&r[a]!==void 0&&r[a]!==F)return I.rightReverse(n,0);a>=0&&n.setSelectionRange(a,a,"backward")},rightReverse(n,a){const r=n.value.length,l=$(r),o=l.slice(0,a+1).indexOf(F)===-1;let i=Math.min(r,a+1);for(;i<=r;i++)if(l[i-1]===F){a=i,a>0&&o===!0&&a--;break}if(i>r&&l[a-1]!==void 0&&l[a-1]!==F)return I.leftReverse(n,r);n.setSelectionRange(a,a,"forward")}};function H(n){y("click",n),C=void 0}function J(n){if(y("keydown",n),gt(n)===!0)return;const a=x.value,r=a.selectionStart,l=a.selectionEnd;if(n.shiftKey||(C=void 0),n.keyCode===37||n.keyCode===39){n.shiftKey&&C===void 0&&(C=a.selectionDirection==="forward"?r:l);const o=I[(n.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(n.preventDefault(),o(a,C===r?l:r),n.shiftKey){const i=a.selectionStart;a.setSelectionRange(Math.min(C,i),Math.max(C,i),"forward")}}else n.keyCode===8&&e.reverseFillMask!==!0&&r===l?(I.left(a,r),a.setSelectionRange(a.selectionStart,l,"backward")):n.keyCode===46&&e.reverseFillMask===!0&&r===l&&(I.rightReverse(a,l),a.setSelectionRange(r,a.selectionEnd,"forward"))}function O(n){if(n==null||n==="")return"";if(e.reverseFillMask===!0)return q(n);const a=T;let r=0,l="";for(let o=0;o<a.length;o++){const i=n[r],s=a[o];if(typeof s=="string")l+=s,i===s&&r++;else if(i!==void 0&&s.regex.test(i))l+=s.transform!==void 0?s.transform(i):i,r++;else return l}return l}function q(n){const a=T,r=v.indexOf(F);let l=n.length-1,o="";for(let i=a.length-1;i>=0&&l>-1;i--){const s=a[i];let u=n[l];if(typeof s=="string")o=s+o,u===s&&l--;else if(u!==void 0&&s.regex.test(u))do o=(s.transform!==void 0?s.transform(u):u)+o,l--,u=n[l];while(r===i&&u!==void 0&&s.regex.test(u));else return o}return o}function V(n){return typeof n!="string"||S===void 0?typeof n=="number"?S(""+n):n:S(n)}function W(n){return h.length-n.length<=0?n:e.reverseFillMask===!0&&n.length>0?h.slice(0,-n.length)+n:n+h.slice(n.length)}return{innerValue:c,hasMask:M,moveCursorForPaste:te,updateMaskValue:U,onMaskedKeydown:J,onMaskedClick:H}}function Ft(e,y){function b(){const x=e.modelValue;try{const v="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(x)===x&&("length"in x?Array.from(x):[x]).forEach(h=>{v.items.add(h)}),{files:v.files}}catch{return{files:void 0}}}return y===!0?R(()=>{if(e.type==="file")return b()}):R(b)}var Ot=xe({name:"QInput",inheritAttrs:!1,props:{...$e,...Tt,...st,modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...Qe,"paste","change","keydown","click","animationend"],setup(e,{emit:y,attrs:b}){const{proxy:x}=pe(),{$q:v}=x,h={};let T=NaN,S,E,C=null,M;const c=B(null),D=rt(e),{innerValue:f,hasMask:$,moveCursorForPaste:j,updateMaskValue:U,onMaskedKeydown:te,onMaskedClick:I}=jt(e,y,u,c),H=Ft(e,!0),J=R(()=>Se(f.value)),O=Ke(i),q=ze(),V=R(()=>e.type==="textarea"||e.autogrow===!0),W=R(()=>V.value===!0||["text","search","url","tel","password"].includes(e.type)),n=R(()=>{const t={...q.splitAttrs.listeners.value,onInput:i,onPaste:o,onChange:_,onBlur:L,onFocus:Re};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=O,$.value===!0&&(t.onKeydown=te,t.onClick=I),e.autogrow===!0&&(t.onAnimationend=s),t}),a=R(()=>{const t={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:D.value,...q.splitAttrs.attributes.value,id:q.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return V.value===!1&&(t.type=e.type),e.autogrow===!0&&(t.rows=1),t});Z(()=>e.type,()=>{c.value&&(c.value.value=e.modelValue)}),Z(()=>e.modelValue,t=>{if($.value===!0){if(E===!0&&(E=!1,String(t)===T))return;U(t)}else f.value!==t&&(f.value=t,e.type==="number"&&h.hasOwnProperty("value")===!0&&(S===!0?S=!1:delete h.value));e.autogrow===!0&&ie(g)}),Z(()=>e.autogrow,t=>{t===!0?ie(g):c.value!==null&&b.rows>0&&(c.value.style.height="auto")}),Z(()=>e.dense,()=>{e.autogrow===!0&&ie(g)});function r(){Ue(()=>{const t=document.activeElement;c.value!==null&&c.value!==t&&(t===null||t.id!==q.targetUid.value)&&c.value.focus({preventScroll:!0})})}function l(){c.value!==null&&c.value.select()}function o(t){if($.value===!0&&e.reverseFillMask!==!0){const d=t.target;j(d,d.selectionStart,d.selectionEnd)}y("paste",t)}function i(t){if(!t||!t.target)return;if(e.type==="file"){y("update:modelValue",t.target.files);return}const d=t.target.value;if(t.target.qComposing===!0){h.value=d;return}if($.value===!0)U(d,!1,t.inputType);else if(u(d),W.value===!0&&t.target===document.activeElement){const{selectionStart:A,selectionEnd:P}=t.target;A!==void 0&&P!==void 0&&ie(()=>{t.target===document.activeElement&&d.indexOf(t.target.value)===0&&t.target.setSelectionRange(A,P)})}e.autogrow===!0&&g()}function s(t){y("animationend",t),g()}function u(t,d){M=()=>{C=null,e.type!=="number"&&h.hasOwnProperty("value")===!0&&delete h.value,e.modelValue!==t&&T!==t&&(T=t,d===!0&&(E=!0),y("update:modelValue",t),ie(()=>{T===t&&(T=NaN)})),M=void 0},e.type==="number"&&(S=!0,h.value=t),e.debounce!==void 0?(C!==null&&clearTimeout(C),h.value=t,C=setTimeout(M,e.debounce)):M()}function g(){requestAnimationFrame(()=>{const t=c.value;if(t!==null){const d=t.parentNode.style,{scrollTop:A}=t,{overflowY:P,maxHeight:N}=v.platform.is.firefox===!0?{}:window.getComputedStyle(t),ne=P!==void 0&&P!=="scroll";ne===!0&&(t.style.overflowY="hidden"),d.marginBottom=t.scrollHeight-1+"px",t.style.height="1px",t.style.height=t.scrollHeight+"px",ne===!0&&(t.style.overflowY=parseInt(N,10)<t.scrollHeight?"auto":"hidden"),d.marginBottom="",t.scrollTop=A}})}function _(t){O(t),C!==null&&(clearTimeout(C),C=null),M!==void 0&&M(),y("change",t.target.value)}function L(t){t!==void 0&&Re(t),C!==null&&(clearTimeout(C),C=null),M!==void 0&&M(),S=!1,E=!1,delete h.value,e.type!=="file"&&setTimeout(()=>{c.value!==null&&(c.value.value=f.value!==void 0?f.value:"")})}function p(){return h.hasOwnProperty("value")===!0?h.value:f.value!==void 0?f.value:""}we(()=>{L()}),Ae(()=>{e.autogrow===!0&&g()}),Object.assign(q,{innerValue:f,fieldClass:R(()=>`q-${V.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:R(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length>0),inputRef:c,emitValue:u,hasValue:J,floatingLabel:R(()=>J.value===!0&&(e.type!=="number"||isNaN(f.value)===!1)||Se(e.displayValue)),getControl:()=>ee(V.value===!0?"textarea":"input",{ref:c,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...a.value,...n.value,...e.type!=="file"?{value:p()}:H.value}),getShadowControl:()=>ee("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(V.value===!0?"":" text-no-wrap")},[ee("span",{class:"invisible"},p()),ee("span",e.shadowText)])});const w=qe(q);return Object.assign(x,{focus:r,select:l,getNativeElement:()=>c.value}),vt(x,"nativeEl",()=>c.value),w}}),Vt=xe({name:"QTooltip",inheritAttrs:!1,props:{...Ze,...He,...Je,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:Ce},self:{type:String,default:"top middle",validator:Ce},offset:{type:Array,default:()=>[14,14],validator:We},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0}},emits:[...Ye],setup(e,{slots:y,emit:b,attrs:x}){let v,h;const T=pe(),{proxy:{$q:S}}=T,E=B(null),C=B(!1),M=R(()=>_e(e.anchor,S.lang.rtl)),c=R(()=>_e(e.self,S.lang.rtl)),D=R(()=>e.persistent!==!0),{registerTick:f,removeTick:$}=Xe(),{registerTimeout:j}=Ge(),{transitionProps:U,transitionStyle:te}=et(e),{localScrollTarget:I,changeScrollEvent:H,unconfigureScrollTarget:J}=tt(e,p),{anchorEl:O,canShow:q,anchorEvents:V}=at({showing:C,configureAnchorEl:L}),{show:W,hide:n}=nt({showing:C,canShow:q,handleShow:o,handleHide:i,hideOnRouteChange:D,processOnMount:!0});Object.assign(V,{delayShow:g,delayHide:_});const{showPortal:a,hidePortal:r,renderPortal:l}=lt(T,E,t,"tooltip");if(S.platform.is.mobile===!0){const d={anchorEl:O,innerRef:E,onClickOutside(P){return n(P),P.target.classList.contains("q-dialog__backdrop")&&kt(P),!0}},A=R(()=>e.modelValue===null&&e.persistent!==!0&&C.value===!0);Z(A,P=>{(P===!0?it:Me)(d)}),we(()=>{Me(d)})}function o(d){a(),f(()=>{h=new MutationObserver(()=>u()),h.observe(E.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),u(),p()}),v===void 0&&(v=Z(()=>S.screen.width+"|"+S.screen.height+"|"+e.self+"|"+e.anchor+"|"+S.lang.rtl,u)),j(()=>{a(!0),b("show",d)},e.transitionDuration)}function i(d){$(),r(),s(),j(()=>{r(!0),b("hide",d)},e.transitionDuration)}function s(){h!==void 0&&(h.disconnect(),h=void 0),v!==void 0&&(v(),v=void 0),J(),Te(V,"tooltipTemp")}function u(){const d=E.value;O.value===null||!d||ot({el:d,offset:e.offset,anchorEl:O.value,anchorOrigin:M.value,selfOrigin:c.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function g(d){if(S.platform.is.mobile===!0){Pe(),document.body.classList.add("non-selectable");const A=O.value,P=["touchmove","touchcancel","touchend","click"].map(N=>[A,N,"delayHide","passiveCapture"]);je(V,"tooltipTemp",P)}j(()=>{W(d)},e.delay)}function _(d){S.platform.is.mobile===!0&&(Te(V,"tooltipTemp"),Pe(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),j(()=>{n(d)},e.hideDelay)}function L(){if(e.noParentEvent===!0||O.value===null)return;const d=S.platform.is.mobile===!0?[[O.value,"touchstart","delayShow","passive"]]:[[O.value,"mouseenter","delayShow","passive"],[O.value,"mouseleave","delayHide","passive"]];je(V,"anchor",d)}function p(){if(O.value!==null||e.scrollTarget!==void 0){I.value=_t(O.value,e.scrollTarget);const d=e.noParentEvent===!0?u:n;H(I.value,d)}}function w(){return C.value===!0?ee("div",{...x,ref:E,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",x.class],style:[x.style,te.value],role:"tooltip"},Ne(y.default)):null}function t(){return ee(ht,U.value,w)}return we(s),Object.assign(T.proxy,{updatePosition:u}),l}});const Et={position:{type:String,default:"bottom-right",validator:e=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(e)},offset:{type:Array,validator:e=>e.length===2},expand:Boolean};function It(){const{props:e,proxy:{$q:y}}=pe(),b=yt(wt,ke);if(b===ke)return console.error("QPageSticky needs to be child of QLayout"),ke;const x=R(()=>{const c=e.position;return{top:c.indexOf("top")>-1,right:c.indexOf("right")>-1,bottom:c.indexOf("bottom")>-1,left:c.indexOf("left")>-1,vertical:c==="top"||c==="bottom",horizontal:c==="left"||c==="right"}}),v=R(()=>b.header.offset),h=R(()=>b.right.offset),T=R(()=>b.footer.offset),S=R(()=>b.left.offset),E=R(()=>{let c=0,D=0;const f=x.value,$=y.lang.rtl===!0?-1:1;f.top===!0&&v.value!==0?D=`${v.value}px`:f.bottom===!0&&T.value!==0&&(D=`${-T.value}px`),f.left===!0&&S.value!==0?c=`${$*S.value}px`:f.right===!0&&h.value!==0&&(c=`${-$*h.value}px`);const j={transform:`translate(${c}, ${D})`};return e.offset&&(j.margin=`${e.offset[1]}px ${e.offset[0]}px`),f.vertical===!0?(S.value!==0&&(j[y.lang.rtl===!0?"right":"left"]=`${S.value}px`),h.value!==0&&(j[y.lang.rtl===!0?"left":"right"]=`${h.value}px`)):f.horizontal===!0&&(v.value!==0&&(j.top=`${v.value}px`),T.value!==0&&(j.bottom=`${T.value}px`)),j}),C=R(()=>`q-page-sticky row flex-center fixed-${e.position} q-page-sticky--${e.expand===!0?"expand":"shrink"}`);function M(c){const D=Ne(c.default);return ee("div",{class:C.value,style:E.value},e.expand===!0?D:[ee("div",D)])}return{$layout:b,getStickyContent:M}}var At=xe({name:"QPageSticky",props:Et,setup(e,{slots:y}){const{getStickyContent:b}=It();return()=>b(y)}});class Nt{constructor(y){be(this,"info");this.info=y}}const Dt={class:"q-pa-md",style:{width:"100%"}},Lt={class:"dialogs"},Bt=K("div",{class:"text-h6"},"New project",-1),$t={class:"text-h6"},Qt={key:0},zt={href:"javascript:void();"},qt={class:"absolute-full flex flex-center"},Ut={style:{height:"25px"}},ea=pt({__name:"IndexPage",setup(e){const y=B(!1),b=B(""),x=B([]),v=B(!1),h=B(!1),T=xt(),S=B([]),E=B(0),C=B(""),M=B(!1),c=B("");let D=-1,f=B(null);Ae(async()=>{const o=await z.getItem("projects");o&&(x.value=JSON.parse(o)),$()});const $=async()=>{const i=await(await fetch("./dataset/projects.json")).text();if(i)try{const s=JSON.parse(i);S.value=s}catch(s){console.log(s)}},j=o=>new Date(o).toLocaleString(),U=()=>{b.value="",y.value=!0},te=()=>{if(I(b.value))alert("Project name duplicated. Please use another name.");else{const o=new Nt({name:b.value,creationTimestamp:Date.now(),images:[]});x.value.push(o),H()}},I=o=>{for(let i=0;i<x.value.length;i++)if(x.value[i].info.name===o)return!0;return!1},H=async()=>{let o=[];x.value.forEach(i=>{o.push(i)}),await z.setItem("projects",JSON.stringify(o))},J=o=>{D=o,v.value=!0},O=()=>{T.push("/project/"+encodeURIComponent(x.value[D].info.name))},q=async()=>{let o=[];for(let i=0;i<x.value.length;i++){const s=x.value[i];i!=D?o.push(s):await ut(s)}x.value=o,H()},V=async o=>{const s=await(await fetch("./dataset/"+o+"/project_manifest.json")).text(),u=JSON.parse(s);f.value=u,await z.getItem(u.info.name+":results.zip")?M.value=!0:M.value=!1;let _=0;for(let L=0;L<u.info.images.length;L++){const p=u.info.images[L];await z.getItem(u.info.name+":image:"+p)&&(_=_+1)}a(_-1),h.value=!0},W=async()=>{var s,u;if(c.value==="Downloading..."){alert("Already downloading.");return}c.value="Downloading...";const o=await fetch("./dataset/"+((s=f.value)==null?void 0:s.info.name)+"/results.zip");c.value="";const i=await o.blob();i.size>0&&(await z.setItem(((u=f.value)==null?void 0:u.info.name)+":results.zip",i),M.value=!0)},n=async()=>{if(f.value){if(c.value==="Downloading..."){alert("Already downloading.");return}c.value="Downloading...";for(let o=0;o<f.value.info.images.length;o++){if(h.value===!1){c.value="";return}const i=f.value.info.images[o];if(!await z.getItem(f.value.info.name+":image:"+i)){const g=await(await fetch("./dataset/"+f.value.info.name+"/"+i)).blob();if(g.size>0){const _=await ct(g);await z.setItem(f.value.info.name+":image:"+i,_)}}a(o)}c.value=""}},a=o=>{f.value&&(E.value=parseFloat(((o+1)/f.value.info.images.length).toFixed(2)),C.value=o+1+"/"+f.value.info.images.length)},r=async()=>{if(M.value===!1){alert("Please download the text results.");return}let o=[];x.value.forEach(i=>{var s;if(i.info.name===((s=f.value)==null?void 0:s.info.name)){alert("The project has already been added.");return}o.push(i)}),await l(),f.value&&o.push(f.value),x.value=o,await z.setItem("projects",JSON.stringify(o))},l=async()=>{var o,i,s,u;if(f.value){const g=await z.getItem(f.value.info.name+":results.zip");if(g){const _=new Pt;await _.loadAsync(g);const L=await((o=_.file("detection_result_filenames.json"))==null?void 0:o.async("string"));if(L){const w=JSON.parse(L);for(let t=0;t<w.length;t++){const d=w[t],A=await((i=_.file(d))==null?void 0:i.async("string"));A&&await z.setItem(f.value.info.name+":detectionResult:"+d,A)}await z.setItem(f.value.info.name+":detectionResultFileNamesList",w)}for(let w=0;w<f.value.info.images.length;w++){const t=f.value.info.images[w],d=dt(t)+".txt",A=f.value.info.name+":groundTruth:"+d,P=await((s=_.file(d))==null?void 0:s.async("string"));P&&await z.setItem(A,P)}const p=ft.getEngines();for(let w=0;w<p.length;w++){const t=p[w],d=await((u=_.file(t+"_settings.json"))==null?void 0:u.async("string"));d&&await z.setItem(f.value.info.name+":settings:"+t,JSON.parse(d))}return!0}}return!1};return(o,i)=>(X(),re(mt,{class:"row justify-evenly"},{default:k(()=>[K("div",Dt,[m(me,{bordered:"",separator:""},{default:k(()=>[m(Y,{header:""},{default:k(()=>[Q("Local Projects:")]),_:1}),m(ve,{spaced:""}),(X(!0),ye(Oe,null,Fe(x.value,(s,u)=>G((X(),re(ue,{clickable:"",key:s.info.name},{default:k(()=>[m(ce,{onClick:g=>J(u)},{default:k(()=>[m(Y,null,{default:k(()=>[Q(le(s.info.name),1)]),_:2},1024),m(Y,{caption:"",lines:"2"},{default:k(()=>{var g;return[Q(" Number of Images: "+le((g=s.info.images)==null?void 0:g.length)+" Creation Time: "+le(j(s.info.creationTimestamp)),1)]}),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024)),[[de]])),128))]),_:1}),m(me,{bordered:"",separator:""},{default:k(()=>[m(Y,{header:""},{default:k(()=>[Q("Remote Projects:")]),_:1}),m(ve,{spaced:""}),(X(!0),ye(Oe,null,Fe(S.value,s=>G((X(),re(ue,{clickable:"",key:s},{default:k(()=>[m(ce,{onClick:u=>V(s)},{default:k(()=>[m(Y,null,{default:k(()=>[Q(le(s),1)]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024)),[[de]])),128))]),_:1})]),K("div",Lt,[m(ge,{modelValue:y.value,"onUpdate:modelValue":i[1]||(i[1]=s=>y.value=s)},{default:k(()=>[m(he,null,{default:k(()=>[m(se,null,{default:k(()=>[Bt]),_:1}),m(se,null,{default:k(()=>[m(Ot,{outlined:"",modelValue:b.value,"onUpdate:modelValue":i[0]||(i[0]=s=>b.value=s),label:"Project Name"},null,8,["modelValue"])]),_:1}),m(Ve,{align:"right"},{default:k(()=>[G(m(ae,{flat:"",label:"Cancel",color:"primary"},null,512),[[oe]]),G(m(ae,{flat:"",label:"Okay",color:"primary",onClick:te},null,512),[[oe]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),m(ge,{modelValue:v.value,"onUpdate:modelValue":i[2]||(i[2]=s=>v.value=s)},{default:k(()=>[m(he,{style:{width:"300px"}},{default:k(()=>[m(se,null,{default:k(()=>[m(me,{bordered:"",separator:""},{default:k(()=>[m(Y,{header:""},{default:k(()=>[Q("Actions")]),_:1}),m(ve,{spaced:""}),G((X(),re(ue,{clickable:""},{default:k(()=>[m(ce,{onClick:O},{default:k(()=>[m(Y,null,{default:k(()=>[Q("Open")]),_:1})]),_:1})]),_:1})),[[de],[oe]]),G((X(),re(ue,{clickable:""},{default:k(()=>[m(ce,{onClick:q},{default:k(()=>[m(Y,null,{default:k(()=>[Q("Delete")]),_:1})]),_:1})]),_:1})),[[de],[oe]])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),m(ge,{modelValue:h.value,"onUpdate:modelValue":i[3]||(i[3]=s=>h.value=s)},{default:k(()=>[m(he,null,{default:k(()=>[m(se,null,{default:k(()=>{var s;return[K("div",$t,"Remote project: "+le((s=bt(f))==null?void 0:s.info.name),1)]}),_:1}),m(se,null,{default:k(()=>[K("div",null,[Q(" Text results"),M.value?(X(),ye("span",Qt," (downloaded)")):St("",!0),Q(": "),K("div",null,[m(ae,{outline:"",color:"primary",label:"Download",onClick:W})])]),K("div",null,[Q(" Images "),K("a",zt,[Q(" (help) "),m(Vt,{style:{"font-size":"14px"}},{default:k(()=>[Q(" required if you need to checkout the images or rerun the decoding ")]),_:1})]),Q(": "),m(Ct,{size:"25px",value:E.value,color:"blue"},{default:k(()=>[K("div",qt,[m(Mt,{color:"white","text-color":"black",label:C.value},null,8,["label"])])]),_:1},8,["value"]),m(ae,{outline:"",color:"primary",label:"Download",onClick:n})]),K("div",Ut,[K("span",null,le(c.value),1)])]),_:1}),m(Ve,{align:"right"},{default:k(()=>[G(m(ae,{flat:"",color:"primary",label:"Import",onClick:r},null,512),[[oe]]),G(m(ae,{flat:"",color:"primary",label:"Close"},null,512),[[oe]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),m(At,{position:"bottom-right",offset:[18,18]},{default:k(()=>[m(ae,{fab:"",icon:"add",color:"blue",onClick:U})]),_:1})]),_:1}))}});export{ea as default};
