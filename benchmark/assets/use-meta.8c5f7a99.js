import{o as Q,b as K,h as U,n as J,c as W,l as G}from"./QBtn.dfccd46a.js";import{z as X,y as Y,u as Z,B as ee}from"./ClosePopup.b40d0207.js";import{r as T,c as s,h as c,g as te,ae as v,J as C,w as ne,a4 as le,W as re,k as ae}from"./index.e4c56f4b.js";function oe(t,n){const e=T(null),l=s(()=>t.disable===!0?null:c("span",{ref:e,class:"no-outline",tabindex:-1}));function u(a){const r=n.value;a!==void 0&&a.type.indexOf("key")===0?r!==null&&document.activeElement!==r&&r.contains(document.activeElement)===!0&&r.focus():e.value!==null&&(a===void 0||r!==null&&r.contains(a.target)===!0)&&e.value.focus()}return{refocusTargetEl:l,refocusTarget:u}}var ue={xs:30,sm:35,md:40,lg:50,xl:60};const ie={...Y,...J,...Z,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:t=>t==="tf"||t==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},se=["update:modelValue"];function ce(t,n){const{props:e,slots:l,emit:u,proxy:a}=te(),{$q:r}=a,i=X(e,r),m=T(null),{refocusTargetEl:b,refocusTarget:$}=oe(e,m),P=Q(e,ue),h=s(()=>e.val!==void 0&&Array.isArray(e.modelValue)),x=s(()=>{const o=v(e.val);return h.value===!0?e.modelValue.findIndex(d=>v(d)===o):-1}),f=s(()=>h.value===!0?x.value>-1:v(e.modelValue)===v(e.trueValue)),k=s(()=>h.value===!0?x.value===-1:v(e.modelValue)===v(e.falseValue)),V=s(()=>f.value===!1&&k.value===!1),j=s(()=>e.disable===!0?-1:e.tabindex||0),M=s(()=>`q-${t} cursor-pointer no-outline row inline no-wrap items-center`+(e.disable===!0?" disabled":"")+(i.value===!0?` q-${t}--dark`:"")+(e.dense===!0?` q-${t}--dense`:"")+(e.leftLabel===!0?" reverse":"")),B=s(()=>{const o=f.value===!0?"truthy":k.value===!0?"falsy":"indet",d=e.color!==void 0&&(e.keepColor===!0||(t==="toggle"?f.value===!0:k.value!==!0))?` text-${e.color}`:"";return`q-${t}__inner relative-position non-selectable q-${t}__inner--${o}${d}`}),F=s(()=>{const o={type:"checkbox"};return e.name!==void 0&&Object.assign(o,{".checked":f.value,"^checked":f.value===!0?"checked":void 0,name:e.name,value:h.value===!0?e.val:e.trueValue}),o}),L=ee(F),z=s(()=>{const o={tabindex:j.value,role:t==="toggle"?"switch":"checkbox","aria-label":e.label,"aria-checked":V.value===!0?"mixed":f.value===!0?"true":"false"};return e.disable===!0&&(o["aria-disabled"]="true"),o});function A(o){o!==void 0&&(C(o),$(o)),e.disable!==!0&&u("update:modelValue",D(),o)}function D(){if(h.value===!0){if(f.value===!0){const o=e.modelValue.slice();return o.splice(x.value,1),o}return e.modelValue.concat([e.val])}if(f.value===!0){if(e.toggleOrder!=="ft"||e.toggleIndeterminate===!1)return e.falseValue}else if(k.value===!0){if(e.toggleOrder==="ft"||e.toggleIndeterminate===!1)return e.trueValue}else return e.toggleOrder!=="ft"?e.trueValue:e.falseValue;return e.indeterminateValue}function H(o){(o.keyCode===13||o.keyCode===32)&&C(o)}function R(o){(o.keyCode===13||o.keyCode===32)&&A(o)}const N=n(f,V);return Object.assign(a,{toggle:A}),()=>{const o=N();e.disable!==!0&&L(o,"unshift",` q-${t}__native absolute q-ma-none q-pa-none`);const d=[c("div",{class:B.value,style:P.value,"aria-hidden":"true"},o)];b.value!==null&&d.push(b.value);const q=e.label!==void 0?K(l.default,[e.label]):U(l.default);return q!==void 0&&d.push(c("div",{class:`q-${t}__label q-anchor--skip`},q)),c("div",{ref:m,class:M.value,...z.value,onClick:A,onKeydown:H,onKeyup:R},d)}}const fe=c("div",{key:"svg",class:"q-checkbox__bg absolute"},[c("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[c("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),c("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]);var Ae=W({name:"QCheckbox",props:ie,emits:se,setup(t){function n(e,l){const u=s(()=>(e.value===!0?t.checkedIcon:l.value===!0?t.indeterminateIcon:t.uncheckedIcon)||null);return()=>u.value!==null?[c("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[c(G,{class:"q-checkbox__icon",name:u.value})])]:[fe]}return ce("checkbox",n)}});const de=Object.prototype.toString,O=Object.prototype.hasOwnProperty,me=new Set(["Boolean","Number","String","Function","Array","Date","RegExp"].map(t=>"[object "+t+"]"));function I(t){if(t!==Object(t)||me.has(de.call(t))===!0||t.constructor&&O.call(t,"constructor")===!1&&O.call(t.constructor.prototype,"isPrototypeOf")===!1)return!1;let n;for(n in t);return n===void 0||O.call(t,n)}function w(){let t,n,e,l,u,a,r=arguments[0]||{},i=1,m=!1;const b=arguments.length;for(typeof r=="boolean"&&(m=r,r=arguments[1]||{},i=2),Object(r)!==r&&typeof r!="function"&&(r={}),b===i&&(r=this,i--);i<b;i++)if((t=arguments[i])!==null)for(n in t)e=r[n],l=t[n],r!==l&&(m===!0&&l&&((u=Array.isArray(l))||I(l)===!0)?(u===!0?a=Array.isArray(e)===!0?e:[]:a=I(e)===!0?e:{},r[n]=w(m,a,l)):l!==void 0&&(r[n]=l));return r}let y=null,_;const p=[];function ve(t){t.title&&(t.title=t.titleTemplate?t.titleTemplate(t.title):t.title,delete t.titleTemplate),[["meta","content"],["link","href"]].forEach(n=>{const e=t[n[0]],l=n[1];for(const u in e){const a=e[u];a.template&&(Object.keys(a).length===1?delete e[u]:(a[l]=a.template(a[l]||""),delete a.template))}})}function be(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!0;for(const e in t)if(t[e]!==n[e])return!0}function E(t){return["class","style"].includes(t)===!1}function S(t){return["lang","dir"].includes(t)===!1}function he(t,n){const e={},l={};return t===void 0?{add:n,remove:l}:(t.title!==n.title&&(e.title=n.title),["meta","link","script","htmlAttr","bodyAttr"].forEach(u=>{const a=t[u],r=n[u];if(l[u]=[],a==null){e[u]=r;return}e[u]={};for(const i in a)r.hasOwnProperty(i)===!1&&l[u].push(i);for(const i in r)a.hasOwnProperty(i)===!1?e[u][i]=r[i]:be(a[i],r[i])===!0&&(l[u].push(i),e[u][i]=r[i])}),{add:e,remove:l})}function ge({add:t,remove:n}){t.title&&(document.title=t.title),Object.keys(n).length>0&&(["meta","link","script"].forEach(e=>{n[e].forEach(l=>{document.head.querySelector(`${e}[data-qmeta="${l}"]`).remove()})}),n.htmlAttr.filter(S).forEach(e=>{document.documentElement.removeAttribute(e)}),n.bodyAttr.filter(E).forEach(e=>{document.body.removeAttribute(e)})),["meta","link","script"].forEach(e=>{const l=t[e];for(const u in l){const a=document.createElement(e);for(const r in l[u])r!=="innerHTML"&&a.setAttribute(r,l[u][r]);a.setAttribute("data-qmeta",u),e==="script"&&(a.innerHTML=l[u].innerHTML||""),document.head.appendChild(a)}}),Object.keys(t.htmlAttr).filter(S).forEach(e=>{document.documentElement.setAttribute(e,t.htmlAttr[e]||"")}),Object.keys(t.bodyAttr).filter(E).forEach(e=>{document.body.setAttribute(e,t.bodyAttr[e]||"")})}function pe(){y=null;const t={title:"",titleTemplate:null,meta:{},link:{},script:{},htmlAttr:{},bodyAttr:{}};for(let n=0;n<p.length;n++){const{active:e,val:l}=p[n];e===!0&&w(!0,t,l)}ve(t),ge(he(_,t)),_=t}function g(){y!==null&&clearTimeout(y),y=setTimeout(pe,50)}function Oe(t){{const n={active:!0};if(typeof t=="function"){const e=s(t);n.val=e.value,ne(e,l=>{n.val=l,n.active===!0&&g()})}else n.val=t;p.push(n),g(),le(()=>{n.active=!0,g()}),re(()=>{n.active=!1,g()}),ae(()=>{p.splice(p.indexOf(n),1),g()})}}export{Ae as Q,Oe as u};
